{% extends 'base.html' %}

{% block title %}Détails caisse{% endblock %}

{% block content %}
<h1 class="h1">Détails caisse</h1>

<div class="grid">
    <div class="col-6">
        <div class="card">
            <div>Date ouverture: <span class="badge">{{ caisse.date_ouverture }}</span></div>
            <div>Statut: <span class="badge">{{ caisse.get_status_display }}</span></div>
            <div>Solde initial: <span class="badge">{{ caisse.solde_initial }}</span></div>
            <div>Solde actuel: <span class="badge">{{ caisse.solde_actuel }}</span></div>
        </div>
    </div>
</div>

<div class="card" style="margin-top:14px;">
    <div class="h2">Paiements</div>
    <table class="table">
        <thead><tr><th>Commande</th><th>Montant</th><th>Mode</th><th>Date</th></tr></thead>
        <tbody>
            {% for p in paiements %}
            <tr>
                <td>{{ p.commande.numero_commande }}</td>
                <td><span class="badge">{{ p.montant }}</span></td>
                <td><span class="badge">{{ p.get_mode_paiement_display }}</span></td>
                <td>{{ p.date_paiement }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4">Aucun paiement.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="card" style="margin-top:14px;">
    <div class="h2">Sorties</div>
    <table class="table">
        <thead><tr><th>Type</th><th>Montant</th><th>Motif</th><th>Date</th></tr></thead>
        <tbody>
            {% for s in sorties %}
            <tr>
                <td>{{ s.type_depense.nom }}</td>
                <td><span class="badge">{{ s.montant }}</span></td>
                <td>{{ s.motif }}</td>
                <td>{{ s.date_sortie }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4">Aucune sortie.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
