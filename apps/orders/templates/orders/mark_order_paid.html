{% extends 'base.html' %}
{% load static %}
{% load gnf %}

{% block title %}Paiement - {{ commande.numero_commande }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-100 py-8 px-4">
    <div class="max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden">
        <!-- En-tête -->
        <div class="bg-blue-600 text-white px-6 py-4">
            <h1 class="text-xl font-bold">Paiement</h1>
            <p class="text-sm">Commande #{{ commande.numero_commande }} - Table {{ commande.table.numero_table }}</p>
        </div>

        <!-- Montant -->
        <div class="p-6 text-center border-b">
            <p class="text-gray-600 mb-1">Montant à régler</p>
            <p class="text-3xl font-bold text-blue-600">{{ commande.montant_total|gnf }}</p>
        </div>

        <!-- Formulaire de paiement -->
        <form method="post" class="p-6">
            {% csrf_token %}
            
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-bold mb-2">
                    Méthode de paiement
                </label>
                <div class="space-y-3">
                    <label class="flex items-center p-3 border rounded hover:bg-gray-50 cursor-pointer">
                        <input type="radio" name="mode_paiement" value="especes" class="h-4 w-4 text-blue-600" checked>
                        <span class="ml-3">Espèces</span>
                    </label>
                    <label class="flex items-center p-3 border rounded hover:bg-gray-50 cursor-pointer">
                        <input type="radio" name="mode_paiement" value="carte" class="h-4 w-4 text-blue-600">
                        <span class="ml-3">Carte bancaire</span>
                    </label>
                    <label class="flex items-center p-3 border rounded hover:bg-gray-50 cursor-pointer">
                        <input type="radio" name="mode_paiement" value="cheque" class="h-4 w-4 text-blue-600">
                        <span class="ml-3">Chèque</span>
                    </label>
                </div>
            </div>

            <div class="flex space-x-4">
                <a href="javascript:history.back()" class="flex-1 text-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded">
                    ↩️ Retour
                </a>
                <a href="{% url 'orders:list_orders' %}" class="flex-1 text-center bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded">
                    Annuler
                </a>
                <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    Valider
                </button>
            </div>
        </form>

        <!-- Informations complémentaires -->
        <div class="bg-gray-50 p-4 text-center text-sm text-gray-600 border-t">
            <p>Caisse #{{ caisse.id }} - {{ caisse.utilisateur_ouverture.get_full_name|default:caisse.utilisateur_ouverture.get_username }}</p>
        </div>
    </div>
</div>
{% endblock %}
