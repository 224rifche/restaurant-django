{% extends 'base.html' %}
{% load gnf %}

{% block title %}Supprimer {{ plat.nom }}{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">üóëÔ∏è Supprimer le plat</h1>
        <p class="page-subtitle">Cette action est irr√©versible</p>
    </div>
</div>

<div class="card" style="max-width: 600px;">
    <div style="text-align: center; padding: 20px;">
        {% if plat.image and plat.image.name != 'plats/default.jpg' %}
        <img src="{{ plat.image.url }}" alt="{{ plat.nom }}" style="width: 100px; height: 100px; border-radius: 12px; object-fit: cover; margin-bottom: 16px;">
        {% else %}
        <div style="width: 80px; height: 80px; margin: 0 auto 16px; background: rgba(239, 68, 68, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 36px;">üçΩÔ∏è</div>
        {% endif %}
        <h3 style="margin: 0 0 8px;">{{ plat.nom }}</h3>
        <span class="badge badge--primary">{{ plat.prix_unitaire|gnf }}</span>
        {% if plat.categorie %}
        <div style="margin-top: 8px; color: var(--text-secondary);">{{ plat.categorie.nom }}</div>
        {% endif %}
    </div>
    
    <div class="message message--warning" style="margin: 20px 0;">
        ‚ö†Ô∏è √ätes-vous s√ªr de vouloir supprimer ce plat ? Cette action est d√©finitive.
    </div>

    <div class="alert alert--info" style="margin: 20px 0;">
        <div class="alert__icon">‚ÑπÔ∏è</div>
        <div class="alert__content">
            <strong>Information :</strong> Si ce plat est utilis√© dans des paniers ou des commandes existants, il sera marqu√© comme "non disponible" au lieu d'√™tre supprim√© pour pr√©server l'int√©grit√© des donn√©es.
        </div>
    </div>

    <form method="post">
        {% csrf_token %}
        <div class="btn-group" style="justify-content: center;">
            <button class="btn btn--danger btn--lg" type="submit">üóëÔ∏è Supprimer</button>
            <a class="btn btn--ghost" href="{% url 'menu:manage_dishes' %}">Annuler</a>
        </div>
    </form>
</div>

<style>
.alert {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 16px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.alert--info {
    background: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.3);
    color: #1e40af;
}

.alert__icon {
    font-size: 20px;
    flex-shrink: 0;
}

.alert__content {
    flex: 1;
}

.message {
    padding: 12px 16px;
    border-radius: 8px;
    border-left: 4px solid;
}

.message--warning {
    background: rgba(251, 191, 36, 0.1);
    border-left-color: #f59e0b;
    color: #92400e;
}
</style>
{% endblock %}
